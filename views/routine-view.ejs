<head>
  <link rel="stylesheet" href="/css/routines/view-routine/styles.css">
  <link rel="stylesheet" href="/css/mobile-reset.css">
</head>

<!-- Delete routine warning popup -->
<div class="delete-window" id="delete-window">
  <div class="overlay"></div>
  <div class="content">
    <h2 class="title">Delete "<%= routine.title %>" Routine</h2>
    <p class="text">Are you sure you want to delete this routine?</p>
    <div class="buttons">
      <button onclick="togglePopup()" id="cancel-btn" class="cancel-btn btn">Cancel</button>
      <form action="/routines/routine-delete/<%= routine._id %>?_method=DELETE" method="POST">
        <input type="hidden" name="_method" value="DELETE">
        <button id="delete-btn" class="delete-btn btn" type="submit">Delete</button>
      </form>
    </div>
  </div>
</div>


<main>
  <div class="container">
    <div class="routine-display-box">
      <h2 class="routine-name"><%= routine.title %></h2>
      <div class="exercises-container">
        <% for (let i = 0; i < routine.exercises.length; i++) { %>
          <div class="exercise-box">
            <h4 class="exercise-name"><%= routine.exercises[i].name %></h4>
            <p class="exercise-note"><%= routine.exercises[i].note %></p>
            <div class="info-box">
              <div class="info-display">
                <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-width="1.5"><path d="M10 10.5h3M10 14.5h7M10 18.5h10"></path></g></svg>
                <p><span><%= routine.exercises[i].sets %></span> sets</p>
              </div>
              <div class="info-display">
                <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-width="1.5"><path d="M12.317 19.858c.874.69 2.109 1.071 3.703 1.142a6 6 0 10-6-6"></path><path stroke-linejoin="round" d="M8.143 14.06L10.02 16l2.14-1.678"></path></g></svg>
                <p><span><%= routine.exercises[i].reps %></span> reps</p>
              </div>
              <div class="info-display">
                <svg class="time-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" ><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"></path><path d="M13 7h-2v5.414l3.293 3.293 1.414-1.414L13 11.586z"></path></svg>
                <p><span><%= routine.exercises[i].rest %>'</span> rest</p>
              </div>
            </div>
          </div>
          <% if (i + 1 < routine.exercises.length) { %> <hr> <% } %>
        <% } %>
      </div>
    </div>

    <div class="buttons-menu">
      <a href="/routines/edit-routine/<%= routine._id %>" class="btn">
        <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg"><path  stroke-width="1.5" d="M10 18.8V21h2.102L21 12.123 18.826 10z" fill="none" fill-rule="evenodd"></path></svg>
        <span>Edit Routine</span>
      </a>

      <button onclick="togglePopup()" class="btn delete">
        <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-linecap="round"  stroke-width="1.5"><path d="M11 10.5l9 9M11 19.5l9-9"></path></g></svg>
        <span>Delete Routine</span>
      </button>
    </div>
  </div>
</main>


<script src="/js/routines/routines.js"></script>
<script src="/js/routines/current-page.js"></script>